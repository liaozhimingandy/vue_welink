"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[341],{8586:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(3396),n=a(7139),i=a(4870),u=a(2748);const s=["src"],o={class:"el-upload-list__item-actions"},d=["onClick"],r=["onClick"],c=["src"];var m={__name:"ImageUpload",setup(e){const t=(0,i.iH)(""),a=(0,i.iH)(!1),m=(0,i.iH)(!1),p=(0,i.iH)([{name:"test",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]),g=(0,i.iH)(90),f=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];function w(){m.value=3===p.value.length}function _(e,t){p.value=t,w()}const v=e=>{const t=p.value;for(const a in t)t[a].uid===e.uid&&t.splice(a,1);p.value=t,w()},h=e=>{console.info(p),t.value=e.url,a.value=!0},D=e=>{console.info(e)};return(e,w)=>{const W=(0,l.up)("el-icon"),y=(0,l.up)("el-progress"),x=(0,l.up)("el-upload"),k=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(x,{class:(0,n.C_)({hide:m.value}),action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","list-type":"picture-card",limit:3,"file-list":p.value,"show-file-list":!0,"on-change":_,"auto-upload":!1,"on-progress":D,accept:"image/*",multiple:""},{file:(0,l.w5)((({file:e})=>[(0,l._)("div",null,[(0,l._)("img",{class:"el-upload-list__item-thumbnail",src:e.url,alt:""},null,8,s),(0,l._)("span",o,[(0,l._)("span",{class:"el-upload-list__item-preview",onClick:t=>h(e)},[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,i.SU)(u.DYM))])),_:1})],8,d),(0,l._)("span",{class:"el-upload-list__item-delete",onClick:t=>v(e)},[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,i.SU)(u.HG3))])),_:1})],8,r)]),m.value?((0,l.wg)(),(0,l.j4)(y,{key:0,type:"circle",percentage:g.value,color:f,class:"progress",width:"70"},null,8,["percentage"])):(0,l.kq)("",!0)])])),default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,i.SU)(u.v37))])),_:1})])),_:1},8,["class","file-list"]),(0,l.Wm)(k,{modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=e=>a.value=e)},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t.value,alt:"Preview Image",style:{"max-width":"100%"}},null,8,c)])),_:1},8,["modelValue"])],64)}}},p=a(89);const g=(0,p.Z)(m,[["__scopeId","data-v-49075e54"]]);var f=g},6341:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});a(541);var l=a(3396),n=a(4870),i=a(9242),u=a(7139),s=a(2748),o=a(6666);a(7658);const d={class:"SongList"};var r={__name:"PictureList",props:["images"],setup(e){const t=e,a=(0,n.qj)({MinDisplay:(0,n.iH)("flex"),ShowIndex:(0,n.iH)(0),display:(0,n.iH)("none")}),i=(0,l.Fl)((()=>{let e,a=[];for(e in t.images)a.push(t.images[e].src);return a}));return(t,s)=>{const o=(0,l.up)("el-image");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("div",{class:"covers",style:(0,u.j5)({display:a.MinDisplay})},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.images,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"cover",key:t},[(0,l.Wm)(o,{style:{width:"97%"},class:"min",src:e.src,"preview-src-list":(0,n.SU)(i),"initial-index":t,fit:"cover"},null,8,["src","preview-src-list","initial-index"])])))),128))],4)])}}},c=a(89);const m=(0,c.Z)(r,[["__scopeId","data-v-270a2cb6"]]);var p=m;const g=e=>((0,l.dD)("data-v-4af2c4f3"),e=e(),(0,l.Cn)(),e),f={class:"radius"},w=g((()=>(0,l._)("img",{src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},null,-1)));var _={__name:"MomentDetail",props:["item"],setup(e){const t=e=>{function t(e){return(1==String(e).length?"0":"")+e}const a=parseInt((new Date).getTime()/1e3),l=a-e,n=new Date(1e3*a),i=new Date(1e3*e),u=i.getFullYear(),s=i.getMonth()+1,o=i.getDate(),d=i.getHours(),r=i.getMinutes();if(l<60)return"刚刚";if(l<3600)return Math.floor(l/60)+"分钟前";if(n.getFullYear()==u&&n.getMonth()+1==s&&n.getDate()==o)return"今天"+t(d)+":"+t(r);var c=new Date(1e3*(a-86400));return c.getFullYear()==u&&c.getMonth()+1==s&&c.getDate()==o?"昨天"+t(d)+":"+t(r):n.getFullYear()==u?t(s)+"月"+t(o)+"日 "+t(d)+":"+t(r):u+"年"+t(s)+"月"+t(o)+"日 "+t(d)+":"+t(r)};return(a,i)=>{const o=(0,l.up)("el-avatar"),d=(0,l.up)("el-col"),r=(0,l.up)("el-row"),c=(0,l.up)("el-divider"),m=(0,l.up)("el-button");return(0,l.wg)(),(0,l.iD)("div",f,[(0,l.Wm)(r,{align:"middle",style:{padding:"3px 3px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{xs:5,sm:3,md:3,lg:2,xl:1},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{size:60},{default:(0,l.w5)((()=>[w])),_:1})])),_:1}),(0,l.Wm)(d,{style:{"text-align":"left"},xs:19,sm:21,md:21,lg:22,xl:23},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(e.item.name)+"•"+(0,u.zw)(t(Date.parse(e.item.gmt_created)/1e3))+(0,u.zw)(null==e.item.from_ip?"":"•"+e.item.from_ip),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)("@"+(0,u.zw)(e.item.user_name),1)])),_:1})])),_:1})])),_:1}),(0,l.Wm)(r,{style:{"text-align":"left","padding-left":"63px","background-color":"#e9ebee"}},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(e.item.moment),1)])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{images:e.item.images},null,8,["images"])])),_:1})])),_:1}),(0,l.Wm)(r,{style:{"text-align":"left","padding-left":"63px","padding-top":"3px"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(e.item.loc),1)])),_:1}),(0,l.Wm)(c,{style:{margin:"10px 0"}}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"danger",text:"",icon:(0,n.SU)(s.RhE)},{default:(0,l.w5)((()=>[(0,l.Uk)("赞("+(0,u.zw)(Math.ceil(1e4*Math.random()))+")",1)])),_:1},8,["icon"])])),_:1})])),_:1})])}}};const v=(0,c.Z)(_,[["__scopeId","data-v-4af2c4f3"]]);var h=v,D=a(8586);const W=e=>((0,l.dD)("data-v-5ff52510"),e=e(),(0,l.Cn)(),e),y=W((()=>(0,l._)("div",{class:"flex-grow"},null,-1))),x={class:"bottom"};var k={__name:"HomeView",setup(e){const t=(0,n.qj)({data:"",currentDate:"",btn_type:"danger",timer:null}),a=(0,n.qj)({data:[]}),d=(0,l.f3)("$axios"),r=(0,n.iH)("1"),c=(0,n.iH)(!1);function m(){return 0===t.data.trim().length}const p=async()=>{t.btn_type="success";let e={content:t.data,gmt_created:new Date,user_name:"anonymous",name:"匿名用户",loc:"中国",from_device:"iphone 13",from_ip:null};a.data.unshift(e),t.data="",await d({url:"https://mock.apifox.cn/m1/1874370-0-default/api/demo",method:"get",data:null}).then((e=>{console.log("收到内容...",e.msg),t.currentDate=e.gmt_created})).catch((e=>{console.log(e.code)})),t.btn_type="danger"};(0,l.bv)((()=>{g(),t.timer=setInterval((function(){g()}),3e4),t.timer=setInterval((function(){t.currentDate=f(new Date)}),800)})),(0,l.Jd)((()=>{for(let e in t.timer)clearInterval(e)}));const g=async()=>{await d({url:"https://mock.apifox.cn/m1/1874370-0-default/api/v1/moment/lasted",method:"get",data:null}).then((e=>{let t=e.data.moments;t.sort((function(e,t){let a=e["gmt_created"],l=t["gmt_created"];return a<l?-1:a>l?1:0})),t.forEach((function(e){a.data.unshift(e)})),(0,o.bM)({title:"动态更新通知",message:"共加载"+t.length+"条数据",type:"success",position:"bottom-right"})})).catch((e=>{console.log(e.code)}))},f=e=>{let t=new Date(e).getFullYear(),a=new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1,l=new Date(e).getDate()<10?"0"+new Date(e).getDate():new Date(e).getDate(),n=new Date(e).getHours()<10?"0"+new Date(e).getHours():new Date(e).getHours(),i=new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes(),u=new Date(e).getSeconds()<10?"0"+new Date(e).getSeconds():new Date(e).getSeconds();var s=new Date(e).getDay();let o;return 0==s?o="日":1==s?o="一":2==s?o="二":3==s?o="三":4==s?o="四":5==s?o="五":6==s&&(o="六"),t+"-"+a+"-"+l+"   "+n+":"+i+":"+u+"   星期"+o};return(e,o)=>{const d=(0,l.up)("el-menu-item"),g=(0,l.up)("el-sub-menu"),f=(0,l.up)("el-menu"),w=(0,l.up)("el-header"),_=(0,l.up)("el-card"),v=(0,l.up)("el-aside"),W=(0,l.up)("el-input"),k=(0,l.up)("el-icon"),b=(0,l.up)("el-button"),U=(0,l.up)("el-alert"),H=(0,l.up)("el-main"),M=(0,l.up)("el-container");return(0,l.wg)(),(0,l.j4)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{style:{padding:"0"}},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"default-active":r.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{disabled:""},{default:(0,l.w5)((()=>[(0,l.Uk)("logo")])),_:1}),y,(0,l.Wm)(d,{index:"1"},{default:(0,l.w5)((()=>[(0,l.Uk)("首页")])),_:1}),(0,l.Wm)(g,{index:"2"},{title:(0,l.w5)((()=>[(0,l.Uk)("更多")])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{index:"2-1"},{default:(0,l.w5)((()=>[(0,l.Uk)("意见反馈")])),_:1}),(0,l.Wm)(d,{index:"2-2"},{default:(0,l.w5)((()=>[(0,l.Uk)("帮助中心")])),_:1}),(0,l.Wm)(d,{index:"2-3"},{default:(0,l.w5)((()=>[(0,l.Uk)("退出登录")])),_:1})])),_:1})])),_:1},8,["default-active"])])),_:1}),(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"hidden-md-and-down"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{shadow:"hover"},{default:(0,l.w5)((()=>[(0,l.Uk)("首页")])),_:1})])),_:1}),(0,l.Wm)(H,{style:{"padding-top":"0"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{shadow:"hover"},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{modelValue:t.data,"onUpdate:modelValue":o[0]||(o[0]=e=>t.data=e),placeholder:"分享你的新鲜事给大家吧",autosize:{minRows:2,maxRows:6},type:"textarea",maxlength:"512",size:"large","show-word-limit":"",clearable:""},null,8,["modelValue"]),(0,l.wy)((0,l._)("div",null,[(0,l.Wm)((0,n.SU)(D.Z))],512),[[i.F8,c.value]]),(0,l._)("div",x,[(0,l._)("span",null,(0,u.zw)(t.currentDate),1),(0,l._)("span",null,[(0,l.Wm)(b,{type:"text",size:"large",link:"",onClick:o[1]||(o[1]=e=>c.value=!c.value)},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(s.tap))])),_:1})])),_:1})]),(0,l.Wm)(b,{type:t["btn_type"],icon:(0,n.SU)(s.LWA),onClick:p,disabled:m()},{default:(0,l.w5)((()=>[(0,l.Uk)("发送 ")])),_:1},8,["type","icon","disabled"])])])),_:1}),(0,l.Wm)(U,{title:"目前为开发阶段,所有数据均保存为你的本地,刷新浏览器即消失,欢迎使用!",type:"warning",effect:"dark",closable:!1,style:{"margin-top":"6px"}}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.data,((e,t)=>((0,l.wg)(),(0,l.j4)(h,{key:t,item:e},null,8,["item"])))),128))])),_:1}),(0,l.Wm)(v,{class:"hidden-md-and-down",style:{"padding-right":"8px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{shadow:"hover"},{default:(0,l.w5)((()=>[(0,l.Uk)("这是测试版本")])),_:1})])),_:1})])),_:1})])),_:1})}}};const b=(0,c.Z)(k,[["__scopeId","data-v-5ff52510"]]);var U=b}}]);
//# sourceMappingURL=341.e92d8566.js.map